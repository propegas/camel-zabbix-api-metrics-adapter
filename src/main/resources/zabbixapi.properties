delay=720
historydelay=2
lasttime=0
zabbixip=172.20.19.197
zabbixapiurl=http://172.20.19.197/zabbix/api_jsonrpc.php
#zabbixapiurl=http://localhost:8082/NodeBeanService/NodeBean
activemq_ip=172.20.19.197
activemq_port=61616
zabbix_item_ke_pattern=\\[(.*)\\](.*)
zabbix_item_ke_search_pattern=[*]*
zabbix_item_ci_parent_pattern=(.*)::(.*)
zabbix_item_ci_type_pattern=(.*)\\((.*)\\)
zabbix_item_description_pattern=[FOR_INTEGRATION]
#zabbix_item_ke_pattern="[(.*)](.*)"
sql_ip=172.20.19.191
sql_port=9999
sql_database=correlation
#postgres
sql_user=corr_app_user
sql_password=qwerty
## START SNIPPET: e1
## notice we use named parameters in the queries, eg :#name. A named query parameter must start with :#
## sql that insert new orders
#sql.insertMetric=insert into metrics (itemid, name, type, lastpoll, ciid) values (:#itemid, :#itemname, :#type, to_timestamp(:#lastpoll), :#ciid  )
sql.insertMetric=insert into metrics (itemid, name, type, ciid, externalid, key, webscenario, webstep, units, valuemapid, source) values (:#itemid, :#itemname, :#type, (select id from configurationitem where externalid = :#externalid and source = :#source limit 1), :#externalid, :#key, :#webscenario, :#webstep, :#units, :#valuemapid, :#source )
sql.insertMetricHistory=insert into history (itemid, value, timestamp) values (:#itemid, :#value, :#value )
sql.UpdateLastPoll=set lastclock = to_timestamp(:#timestamp)
sql.insertMetricMapping=insert into metrics_valuemap (mappingid, value, newvalue, valuemapid, valuemapname) values (:#mappingid, :#value, :#newvalue, :#valuemapid, :#valuemapname )
sql.deleteAllMetricMapping=delete from metrics_valuemap
username=Admin
password=zabbix
#Setting for using ActiveMQ for errors and heartbeats
usejms=false
heartbeatsdelay=15m
heartbeatsqueue=Heartbeats.queue
eventsqueue=Zabbix-Events.queue
devicesqueue=Zabbix-Devices.queue
adaptername=ZABBIX_METRICS_ADAPTER
source=Zabbix
service=Zabbix